(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{7443:function(t,e,n){Promise.resolve().then(n.bind(n,3047))},9309:function(t,e,n){"use strict";n.d(e,{Y:function(){return r},t:function(){return s}});var a=n(7437),c=n(4285),i=n(6642);function s(t){var e;let{channelId:n,next:s}=t,{data:r}=(0,i.EM)(n,s);return(0,a.jsx)(a.Fragment,{children:null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.map((t,e)=>(0,a.jsx)(c.Z,{videodata:t},t.cid))})}function r(t){var e;let{titleName:n,next:s,setIserr:r}=t,{data:l,error:o}=(0,i.ZQ)(n,s);return o?(r(!0),(0,a.jsx)(a.Fragment,{children:"err"})):(0,a.jsx)(a.Fragment,{children:null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.map((t,e)=>(0,a.jsx)(c.Z,{videodata:t},t.cid))})}n(4256)},4256:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var a=n(7437),c=n(6691),i=n.n(c),s=n(5356),r=n(6199);function l(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{src:r.Z,className:"m-auto",alt:"notfound"}),(0,a.jsx)(s.Z,{})]})}},4285:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var a=n(7437),c=n(6691),i=n.n(c),s=n(1396),r=n.n(s),l=n(9357);function o(t){let{videodata:e="",index:n=-1,slider:c=!1,w:s=750,h:o=171}=t;return(0,a.jsxs)(r(),{href:"".concat("/video?cid="+e.cid),className:" relative  h-[300px]",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(i(),{className:"rounded-lg ",src:"".concat(l.IMAGE_DOMAIN,"/").concat(e.picUrl),width:s,height:o,alt:""})}),(0,a.jsx)("div",{className:"h-14 text-xl overflow-hidden",children:e.name})]},e.picUrl)}},5356:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var a=n(7437),c=n(2265);n(2333),n(6691),n(1396),n(8278),n(7021);var i=n(4327),s=n(4285),r=n(9357);function l(){let[t,e]=(0,c.useState)([]),[n,l]=(0,c.useState)(0),[o,d]=(0,i.YD)();async function u(){var t;let a=await fetch("".concat(r.API_URL,"/api/p1/video/recommend")).then(t=>t.json());console.log("movies in fetch...",a),(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.length)&&(l(n+1),e(t=>[...(null==t?void 0:t.length)?t:[],...a.data]))}return(0,c.useEffect)(()=>{d&&u()},[d]),(0,a.jsxs)("div",{className:"my-5",children:[(0,a.jsx)("div",{className:"flex justify-between ",children:(0,a.jsx)("h1",{children:"为您推荐"})}),(0,a.jsx)("div",{className:"grid grid-cols-2 auto-rows-auto gap-4",children:null==t?void 0:t.map((t,e)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{videodata:t},t.cid)}))}),(0,a.jsx)("div",{ref:o,children:"---滑到最底啦---"})]})}},6642:function(t,e,n){"use strict";n.d(e,{Ao:function(){return h},EM:function(){return u},ZQ:function(){return v},_u:function(){return f}});var a=n(2333),c=n(9357);let{TOKEN:i,API_URL:s,API_PLAYER_DOMAIN:r,API_PLAYER_DOMAIN_m3u8:l,IMAGE_DOMAIN:o}=c,d=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return fetch(...e).then(t=>t.json())},u=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,{data:c,error:i}=(0,a.ZP)("".concat(s,"/api/p1/channel/").concat(t,"?page=").concat(e,"&size=").concat(n),d,{revalidateOnFocus:!1,dedupingInterval:36e5});return{data:c,error:i}},h=()=>{let{data:t,error:e}=(0,a.ZP)("".concat(s,"/api/p1/hot_tags"),d,{revalidateOnFocus:!1});return{data:t,error:e}},v=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,{data:c,error:i}=(0,a.ZP)("".concat(s,"/api/p1/title/").concat(t,"?page=").concat(e,"&size=").concat(n),d,{revalidateOnFocus:!1});return{data:c,error:i}},f=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,{data:c,error:i}=(0,a.ZP)("".concat(s,"/api/p1/home/").concat(t,"?page=").concat(e,"&size=").concat(n),d,{revalidateOnFocus:!1,dedupingInterval:36e5});return{data:c,error:i}}},3047:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=n(7437),c=n(2265),i=n(4033),s=n(6691),r=n.n(s);n(2333);var l=n(4327),o=n(4285),d=n(9357),u=n(4256),h=n(9309);function v(t){let{titleName:e}=t,[n,i]=(0,c.useState)([]),[s,r]=(0,c.useState)(1),[o,d]=(0,l.YD)(),[v,f]=(0,c.useState)(!1);async function x(){r(t=>t+1)}return(0,c.useEffect)(()=>{d&&x()},[d]),(0,c.useEffect)(()=>{i([...n,(0,a.jsx)(h.Y,{titleName:e,next:s,setIserr:f},s)])},[s]),(0,a.jsxs)("div",{className:"mx-4",children:[(0,a.jsx)("h1",{className:"text-5xl",children:n.length?e:null}),(0,a.jsx)("div",{className:"grid grid-cols-2 auto-rows-auto gap-4",children:n}),v?(0,a.jsx)(u.Z,{}):null,(0,a.jsx)("div",{ref:o,children:"---滑到最底啦---"})]})}function f(t){let{tagName:e}=t,[n,i]=(0,c.useState)([]),[s,r]=(0,c.useState)(0),[h,v]=(0,l.YD)();async function f(){let t=s+1;try{var n;let a=await fetch("".concat(d.API_URL,"/api/p1/tag/").concat(e,"?page=").concat(t,"&size=10")).then(t=>t.json());(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.length)&&(r(t),i(t=>[...(null==t?void 0:t.length)?t:[],...a.data]))}catch(t){return}}return(0,c.useEffect)(()=>{v&&f()},[v]),(0,a.jsxs)("div",{className:"mx-4",children:[(0,a.jsx)("h1",{children:n.length?e:null}),n.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 auto-rows-auto gap-4",children:n&&n.map((t,e)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{videodata:t},t.cid)}))})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{})}),(0,a.jsx)("div",{ref:h,children:"---滑到最底啦---"})]})}var x=n(6642);function g(t){var e;let{sectionId:n}=t,[i,s]=(0,c.useState)([]),[r,d]=(0,c.useState)(1),[u,h]=(0,l.YD)(),v=[],{data:f,error:g}=(0,x._u)(n,1,10);async function m(){d(t=>t+1)}return!g&&(null==f?void 0:null===(e=f.data)||void 0===e?void 0:e.videos)&&v.push(...f.data.videos),(0,c.useEffect)(()=>{h&&m()},[h]),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h1",{}),(0,a.jsx)("div",{className:"grid grid-cols-2 auto-rows-auto gap-4",children:v&&(null==v?void 0:v.map((t,e)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{videodata:t},t.cid)})))}),(0,a.jsx)("div",{ref:u,children:"---滑到最底啦---"})]})}var m=n(5356),j=n(6199);function p(){let t=(0,i.useSearchParams)(),{ref:e,inView:n}=(0,l.YD)({threshold:0}),c=t.get("title"),s=t.get("tag"),o=t.get("sectionId");return o?(0,a.jsx)(g,{sectionId:o}):c?(0,a.jsx)(v,{titleName:c}):s?(0,a.jsx)(f,{tagName:s}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{src:j.Z,className:"m-auto",alt:"notfound"}),(0,a.jsx)(m.Z,{})]})}},6199:function(t,e){"use strict";e.Z={src:"/_next/static/media/notfound.f942147b.svg",height:220,width:197,blurWidth:0,blurHeight:0}},9357:function(t){"use strict";t.exports=JSON.parse('{"API_URL":"https://api.ms.vscp168.com","TOKEN":"c1b6825c864aaf3e459f24c05842c6b6","IMAGE_DOMAIN":"https://dcxzp.com","API_PLAYER_DOMAIN":"https://api.vp.vscp168.com","API_PLAYER_DOMAIN_m3u8":"https://dou3.kammy.cn"}')}},function(t){t.O(0,[352,333,396,15,971,596,744],function(){return t(t.s=7443)}),_N_E=t.O()}]);